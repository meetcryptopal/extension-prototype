webpackHotUpdate(3,{

/***/ 180:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(314);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\nconst store = window.chrome.storage.sync;\nconst STORE_KEY = \"amazon\";\n\n// Actions\nconst CHECKOUT = \"CHECKOUT\";\nconst ADD_ITEM = \"ADD_ITEM\";\n\nconst initState = { order: [], cartItems: [] };\nconst reduceState = (state = initState, { type, payload }) => {\n  switch (type) {\n    case ADD_ITEM:\n      return _extends({}, state, { cartItems: [...payload] });\n\n    case CHECKOUT:\n      return _extends({}, state, {\n        orders: [...state.cartItems, ...state.orders],\n        cartItems: []\n      });\n  }\n};\n\nconst updateStore = action => {\n  store.get(STORE_KEY, state => {\n    const currentState = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isEmpty(state) ? undefined : state;\n    const nextState = reduceState(currentState, action);\n\n    store.set({ [STORE_KEY]: nextState });\n    console.log(`${STORE_KEY}: `, nextState);\n  });\n};\n\nconst saveOnOrder = () => {\n  const AMAZON_CHECKOUT_URL = \"https://www.amazon.com/gp/buy/spc/handlers/display.html\";\n\n  const isCheckout = location.href.match(AMAZON_CHECKOUT_URL);\n\n  if (!isCheckout) {\n    return;\n  }\n\n  const AMAZON_ORDER_BUTTON_SELECTOR = \".place-order-button-link\";\n\n  __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\"body\").on(\"click\", AMAZON_ORDER_BUTTON_SELECTOR, e => {\n    console.log(\"AMAZON ORDER DETECTED\");\n    updateStore({ type: CHECKOUT });\n  });\n};\n\nconst scrapeCart = () => {\n  const AMAZON_CART_URL = \"https://www.amazon.com/gp/cart/view.html\";\n\n  const isCart = location.href.match(AMAZON_CART_URL);\n\n  if (!isCart) {\n    return;\n  }\n  console.log(\"AMAZON CART DETECTED\");\n\n  const AMAZON_PRODUCT_CONTAINER_SELECTOR = \".sc-list-item-content\";\n  const AMAZON_PRODUCT_NAME_SELECTOR = \".sc-product-title\";\n  const AMAZON_PRODUCT_QUANTITY_SELECTOR = \".a-dropdown-prompt\";\n  const AMAZON_PRODUCT_PRICE_SELECTOR = \".sc-product-price\";\n\n  const cartItems = __WEBPACK_IMPORTED_MODULE_0_jquery___default.a.map(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(AMAZON_PRODUCT_CONTAINER_SELECTOR), element => {\n    const productName = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(element).find(AMAZON_PRODUCT_NAME_SELECTOR).text().trim();\n    const productQuantity = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(element).find(AMAZON_PRODUCT_QUANTITY_SELECTOR).text().trim();\n    const productPrice = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(element).find(AMAZON_PRODUCT_PRICE_SELECTOR).text().trim();\n\n    console.log(\"AMAZON PRODUCT NAME:\", productName);\n    console.log(\"AMAZON PRODUCT QUANTITY:\", productQuantity);\n    console.log(\"AMAZON PRODUCT PRICE:\", productPrice);\n    return {\n      productName,\n      productQuantity,\n      productPrice\n    };\n  });\n\n  updateStore({ type: ADD_ITEM, payload: cartItems });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = {\n  scrapeCart,\n  saveOnOrder\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9zZXJ2aWNlcy9hbWF6b24uanM/MDU3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XG5cbmNvbnN0IHN0b3JlID0gd2luZG93LmNocm9tZS5zdG9yYWdlLnN5bmM7XG5jb25zdCBTVE9SRV9LRVkgPSBcImFtYXpvblwiO1xuXG4vLyBBY3Rpb25zXG5jb25zdCBDSEVDS09VVCA9IFwiQ0hFQ0tPVVRcIjtcbmNvbnN0IEFERF9JVEVNID0gXCJBRERfSVRFTVwiO1xuXG5jb25zdCBpbml0U3RhdGUgPSB7IG9yZGVyOiBbXSwgY2FydEl0ZW1zOiBbXSB9O1xuY29uc3QgcmVkdWNlU3RhdGUgPSAoc3RhdGUgPSBpbml0U3RhdGUsIHsgdHlwZSwgcGF5bG9hZCB9KSA9PiB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgQUREX0lURU06XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgY2FydEl0ZW1zOiBbLi4ucGF5bG9hZF0gfTtcblxuICAgIGNhc2UgQ0hFQ0tPVVQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgb3JkZXJzOiBbLi4uc3RhdGUuY2FydEl0ZW1zLCAuLi5zdGF0ZS5vcmRlcnNdLFxuICAgICAgICBjYXJ0SXRlbXM6IFtdXG4gICAgICB9O1xuICB9XG59O1xuXG5jb25zdCB1cGRhdGVTdG9yZSA9IGFjdGlvbiA9PiB7XG4gIHN0b3JlLmdldChTVE9SRV9LRVksIHN0YXRlID0+IHtcbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBfLmlzRW1wdHkoc3RhdGUpID8gdW5kZWZpbmVkIDogc3RhdGU7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gcmVkdWNlU3RhdGUoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuXG4gICAgc3RvcmUuc2V0KHsgW1NUT1JFX0tFWV06IG5leHRTdGF0ZSB9KTtcbiAgICBjb25zb2xlLmxvZyhgJHtTVE9SRV9LRVl9OiBgLCBuZXh0U3RhdGUpO1xuICB9KTtcbn07XG5cbmNvbnN0IHNhdmVPbk9yZGVyID0gKCkgPT4ge1xuICBjb25zdCBBTUFaT05fQ0hFQ0tPVVRfVVJMID1cbiAgICBcImh0dHBzOi8vd3d3LmFtYXpvbi5jb20vZ3AvYnV5L3NwYy9oYW5kbGVycy9kaXNwbGF5Lmh0bWxcIjtcblxuICBjb25zdCBpc0NoZWNrb3V0ID0gbG9jYXRpb24uaHJlZi5tYXRjaChBTUFaT05fQ0hFQ0tPVVRfVVJMKTtcblxuICBpZiAoIWlzQ2hlY2tvdXQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBBTUFaT05fT1JERVJfQlVUVE9OX1NFTEVDVE9SID0gXCIucGxhY2Utb3JkZXItYnV0dG9uLWxpbmtcIjtcblxuICAkKFwiYm9keVwiKS5vbihcImNsaWNrXCIsIEFNQVpPTl9PUkRFUl9CVVRUT05fU0VMRUNUT1IsIGUgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiQU1BWk9OIE9SREVSIERFVEVDVEVEXCIpO1xuICAgIHVwZGF0ZVN0b3JlKHsgdHlwZTogQ0hFQ0tPVVQgfSk7XG4gIH0pO1xufTtcblxuY29uc3Qgc2NyYXBlQ2FydCA9ICgpID0+IHtcbiAgY29uc3QgQU1BWk9OX0NBUlRfVVJMID0gXCJodHRwczovL3d3dy5hbWF6b24uY29tL2dwL2NhcnQvdmlldy5odG1sXCI7XG5cbiAgY29uc3QgaXNDYXJ0ID0gbG9jYXRpb24uaHJlZi5tYXRjaChBTUFaT05fQ0FSVF9VUkwpO1xuXG4gIGlmICghaXNDYXJ0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUubG9nKFwiQU1BWk9OIENBUlQgREVURUNURURcIik7XG5cbiAgY29uc3QgQU1BWk9OX1BST0RVQ1RfQ09OVEFJTkVSX1NFTEVDVE9SID0gXCIuc2MtbGlzdC1pdGVtLWNvbnRlbnRcIjtcbiAgY29uc3QgQU1BWk9OX1BST0RVQ1RfTkFNRV9TRUxFQ1RPUiA9IFwiLnNjLXByb2R1Y3QtdGl0bGVcIjtcbiAgY29uc3QgQU1BWk9OX1BST0RVQ1RfUVVBTlRJVFlfU0VMRUNUT1IgPSBcIi5hLWRyb3Bkb3duLXByb21wdFwiO1xuICBjb25zdCBBTUFaT05fUFJPRFVDVF9QUklDRV9TRUxFQ1RPUiA9IFwiLnNjLXByb2R1Y3QtcHJpY2VcIjtcblxuICBjb25zdCBjYXJ0SXRlbXMgPSAkLm1hcCgkKEFNQVpPTl9QUk9EVUNUX0NPTlRBSU5FUl9TRUxFQ1RPUiksIGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3ROYW1lID0gJChlbGVtZW50KVxuICAgICAgLmZpbmQoQU1BWk9OX1BST0RVQ1RfTkFNRV9TRUxFQ1RPUilcbiAgICAgIC50ZXh0KClcbiAgICAgIC50cmltKCk7XG4gICAgY29uc3QgcHJvZHVjdFF1YW50aXR5ID0gJChlbGVtZW50KVxuICAgICAgLmZpbmQoQU1BWk9OX1BST0RVQ1RfUVVBTlRJVFlfU0VMRUNUT1IpXG4gICAgICAudGV4dCgpXG4gICAgICAudHJpbSgpO1xuICAgIGNvbnN0IHByb2R1Y3RQcmljZSA9ICQoZWxlbWVudClcbiAgICAgIC5maW5kKEFNQVpPTl9QUk9EVUNUX1BSSUNFX1NFTEVDVE9SKVxuICAgICAgLnRleHQoKVxuICAgICAgLnRyaW0oKTtcblxuICAgIGNvbnNvbGUubG9nKFwiQU1BWk9OIFBST0RVQ1QgTkFNRTpcIiwgcHJvZHVjdE5hbWUpO1xuICAgIGNvbnNvbGUubG9nKFwiQU1BWk9OIFBST0RVQ1QgUVVBTlRJVFk6XCIsIHByb2R1Y3RRdWFudGl0eSk7XG4gICAgY29uc29sZS5sb2coXCJBTUFaT04gUFJPRFVDVCBQUklDRTpcIiwgcHJvZHVjdFByaWNlKTtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvZHVjdE5hbWUsXG4gICAgICBwcm9kdWN0UXVhbnRpdHksXG4gICAgICBwcm9kdWN0UHJpY2VcbiAgICB9O1xuICB9KTtcblxuICB1cGRhdGVTdG9yZSh7IHR5cGU6IEFERF9JVEVNLCBwYXlsb2FkOiBjYXJ0SXRlbXMgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNjcmFwZUNhcnQsXG4gIHNhdmVPbk9yZGVyXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9zZXJ2aWNlcy9hbWF6b24uanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUhBO0FBTEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7Ozs7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ })

})
webpackHotUpdate(3,{

/***/ 181:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_store__ = __webpack_require__(286);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_store___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_store__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_store_plugins_all__ = __webpack_require__(307);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_store_plugins_all___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_store_plugins_all__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_1_store___default.a.addPlugin(__WEBPACK_IMPORTED_MODULE_2_store_plugins_all___default.a);\n\nconst STORE_KEY = \"shopify\";\n\nconst initStore = () => {\n  __WEBPACK_IMPORTED_MODULE_1_store___default.a.defaults({ [STORE_KEY]: { orders: [], cartItems: [] } });\n};\n\nconst saveOnOrder = () => {\n  const SHOPIFY_API_TOKEN_SELECTOR = \"meta[name=shopify-checkout-api-token]\";\n  const CHECKOUT_PATH_REGEX = /^\\/\\d+\\/checkouts\\/.+/; // ex: 808372/checkouts/bc40cd2fea7f91dcef496097ca38d93e\n\n  const isShopifySite = !!__WEBPACK_IMPORTED_MODULE_0_jquery___default()(SHOPIFY_API_TOKEN_SELECTOR).length;\n  const isCheckout = !!location.pathname.match(CHECKOUT_PATH_REGEX);\n\n  const SHOPIFY_COMPLETE_FORM_SELECTOR = \"input[name='complete']\";\n  const isFinalCheckoutPage = !!__WEBPACK_IMPORTED_MODULE_0_jquery___default()(SHOPIFY_COMPLETE_FORM_SELECTOR).length;\n\n  if (isShopifySite && isCheckout && isFinalCheckoutPage) {\n    const SHOPIFY_ORDER_BUTTON_SELECTOR = \".step__footer__continue-btn\";\n    __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\"body\").on(\"click\", SHOPIFY_ORDER_BUTTON_SELECTOR, e => {\n      console.log(\"SHOPIFY ORDER DETECTED\");\n\n      initStore();\n      __WEBPACK_IMPORTED_MODULE_1_store___default.a.update(STORE_KEY, shopify => {\n        shopify.orders = [...shopify.orders, ...shopify.cartItems];\n        shopify.cartItems = [];\n      });\n      console.log(\"SHOPIFY: \", __WEBPACK_IMPORTED_MODULE_1_store___default.a.get(STORE_KEY));\n    });\n  }\n};\n\nconst scrapeCheckout = () => {\n  const SHOPIFY_API_TOKEN_SELECTOR = \"meta[name=shopify-checkout-api-token]\";\n  const CHECKOUT_PATH_REGEX = /^\\/\\d+\\/checkouts\\/.+/; // ex: 808372/checkouts/bc40cd2fea7f91dcef496097ca38d93e\n\n  const isShopifySite = !!__WEBPACK_IMPORTED_MODULE_0_jquery___default()(SHOPIFY_API_TOKEN_SELECTOR).length;\n  const isCheckout = !!location.pathname.match(CHECKOUT_PATH_REGEX);\n\n  if (isShopifySite && isCheckout) {\n    console.log(\"SHOPIFY CHECKOUT DETECTED\");\n\n    const SHOPIFY_PRODUCT_CONTAINER_SELECTOR = \".product\";\n    const SHOPIFY_PRODUCT_NAME_SELECTOR = \".product__description__name\";\n    const SHOPIFY_PRODUCT_VARIANT_SELECTOR = \".product__description__variant\";\n    const SHOPIFY_PRODUCT_QUANTITY_SELECTOR = \".product__quantity\";\n    const SHOPIFY_PRODUCT_PRICE_SELECTOR = \".product__price\";\n\n    const cartItems = __WEBPACK_IMPORTED_MODULE_0_jquery___default.a.map(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(SHOPIFY_PRODUCT_CONTAINER_SELECTOR), element => {\n      const productName = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(element).find(SHOPIFY_PRODUCT_NAME_SELECTOR).text().trim();\n      const productQuantity = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(element).find(SHOPIFY_PRODUCT_QUANTITY_SELECTOR).text().trim();\n      const productPrice = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(element).find(SHOPIFY_PRODUCT_PRICE_SELECTOR).text().trim();\n      // const productVariant = $(element)\n      // .find(SHOPIFY_PRODUCT_VARIANT_SELECTOR)\n      // .text();\n\n      console.log(\"SHOPIFY PRODUCT NAME:\", productName);\n      console.log(\"SHOPIFY PRODUCT QUANTITY:\", productQuantity);\n      console.log(\"SHOPIFY PRODUCT PRICE:\", productPrice);\n      // console.log(\"SHOPIFY PRODUCT VARIANT:\", productVariant);\n      return {\n        productName,\n        productQuantity,\n        productPrice\n      };\n    });\n\n    initStore();\n    __WEBPACK_IMPORTED_MODULE_1_store___default.a.update(STORE_KEY, shopify => {\n      shopify.cartItems = cartItems;\n    });\n    console.log(\"SHOPIFY: \", __WEBPACK_IMPORTED_MODULE_1_store___default.a.get(STORE_KEY));\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = {\n  scrapeCheckout,\n  saveOnOrder\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9zZXJ2aWNlcy9zaG9waWZ5LmpzP2NiNDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSBcImpxdWVyeVwiO1xuaW1wb3J0IHN0b3JlIGZyb20gXCJzdG9yZVwiO1xuaW1wb3J0IGFsbFBsdWdpbnMgZnJvbSBcInN0b3JlL3BsdWdpbnMvYWxsXCI7XG5cbnN0b3JlLmFkZFBsdWdpbihhbGxQbHVnaW5zKTtcblxuY29uc3QgU1RPUkVfS0VZID0gXCJzaG9waWZ5XCI7XG5cbmNvbnN0IGluaXRTdG9yZSA9ICgpID0+IHtcbiAgc3RvcmUuZGVmYXVsdHMoeyBbU1RPUkVfS0VZXTogeyBvcmRlcnM6IFtdLCBjYXJ0SXRlbXM6IFtdIH0gfSk7XG59O1xuXG5jb25zdCBzYXZlT25PcmRlciA9ICgpID0+IHtcbiAgY29uc3QgU0hPUElGWV9BUElfVE9LRU5fU0VMRUNUT1IgPSBcIm1ldGFbbmFtZT1zaG9waWZ5LWNoZWNrb3V0LWFwaS10b2tlbl1cIjtcbiAgY29uc3QgQ0hFQ0tPVVRfUEFUSF9SRUdFWCA9IC9eXFwvXFxkK1xcL2NoZWNrb3V0c1xcLy4rLzsgLy8gZXg6IDgwODM3Mi9jaGVja291dHMvYmM0MGNkMmZlYTdmOTFkY2VmNDk2MDk3Y2EzOGQ5M2VcblxuICBjb25zdCBpc1Nob3BpZnlTaXRlID0gISEkKFNIT1BJRllfQVBJX1RPS0VOX1NFTEVDVE9SKS5sZW5ndGg7XG4gIGNvbnN0IGlzQ2hlY2tvdXQgPSAhIWxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKENIRUNLT1VUX1BBVEhfUkVHRVgpO1xuXG4gIGNvbnN0IFNIT1BJRllfQ09NUExFVEVfRk9STV9TRUxFQ1RPUiA9IFwiaW5wdXRbbmFtZT0nY29tcGxldGUnXVwiO1xuICBjb25zdCBpc0ZpbmFsQ2hlY2tvdXRQYWdlID0gISEkKFNIT1BJRllfQ09NUExFVEVfRk9STV9TRUxFQ1RPUikubGVuZ3RoO1xuXG4gIGlmIChpc1Nob3BpZnlTaXRlICYmIGlzQ2hlY2tvdXQgJiYgaXNGaW5hbENoZWNrb3V0UGFnZSkge1xuICAgIGNvbnN0IFNIT1BJRllfT1JERVJfQlVUVE9OX1NFTEVDVE9SID0gXCIuc3RlcF9fZm9vdGVyX19jb250aW51ZS1idG5cIjtcbiAgICAkKFwiYm9keVwiKS5vbihcImNsaWNrXCIsIFNIT1BJRllfT1JERVJfQlVUVE9OX1NFTEVDVE9SLCBlID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiU0hPUElGWSBPUkRFUiBERVRFQ1RFRFwiKTtcblxuICAgICAgaW5pdFN0b3JlKCk7XG4gICAgICBzdG9yZS51cGRhdGUoU1RPUkVfS0VZLCBzaG9waWZ5ID0+IHtcbiAgICAgICAgc2hvcGlmeS5vcmRlcnMgPSBbLi4uc2hvcGlmeS5vcmRlcnMsIC4uLnNob3BpZnkuY2FydEl0ZW1zXTtcbiAgICAgICAgc2hvcGlmeS5jYXJ0SXRlbXMgPSBbXTtcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coXCJTSE9QSUZZOiBcIiwgc3RvcmUuZ2V0KFNUT1JFX0tFWSkpO1xuICAgIH0pO1xuICB9XG59O1xuXG5jb25zdCBzY3JhcGVDaGVja291dCA9ICgpID0+IHtcbiAgY29uc3QgU0hPUElGWV9BUElfVE9LRU5fU0VMRUNUT1IgPSBcIm1ldGFbbmFtZT1zaG9waWZ5LWNoZWNrb3V0LWFwaS10b2tlbl1cIjtcbiAgY29uc3QgQ0hFQ0tPVVRfUEFUSF9SRUdFWCA9IC9eXFwvXFxkK1xcL2NoZWNrb3V0c1xcLy4rLzsgLy8gZXg6IDgwODM3Mi9jaGVja291dHMvYmM0MGNkMmZlYTdmOTFkY2VmNDk2MDk3Y2EzOGQ5M2VcblxuICBjb25zdCBpc1Nob3BpZnlTaXRlID0gISEkKFNIT1BJRllfQVBJX1RPS0VOX1NFTEVDVE9SKS5sZW5ndGg7XG4gIGNvbnN0IGlzQ2hlY2tvdXQgPSAhIWxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKENIRUNLT1VUX1BBVEhfUkVHRVgpO1xuXG4gIGlmIChpc1Nob3BpZnlTaXRlICYmIGlzQ2hlY2tvdXQpIHtcbiAgICBjb25zb2xlLmxvZyhcIlNIT1BJRlkgQ0hFQ0tPVVQgREVURUNURURcIik7XG5cbiAgICBjb25zdCBTSE9QSUZZX1BST0RVQ1RfQ09OVEFJTkVSX1NFTEVDVE9SID0gXCIucHJvZHVjdFwiO1xuICAgIGNvbnN0IFNIT1BJRllfUFJPRFVDVF9OQU1FX1NFTEVDVE9SID0gXCIucHJvZHVjdF9fZGVzY3JpcHRpb25fX25hbWVcIjtcbiAgICBjb25zdCBTSE9QSUZZX1BST0RVQ1RfVkFSSUFOVF9TRUxFQ1RPUiA9IFwiLnByb2R1Y3RfX2Rlc2NyaXB0aW9uX192YXJpYW50XCI7XG4gICAgY29uc3QgU0hPUElGWV9QUk9EVUNUX1FVQU5USVRZX1NFTEVDVE9SID0gXCIucHJvZHVjdF9fcXVhbnRpdHlcIjtcbiAgICBjb25zdCBTSE9QSUZZX1BST0RVQ1RfUFJJQ0VfU0VMRUNUT1IgPSBcIi5wcm9kdWN0X19wcmljZVwiO1xuXG4gICAgY29uc3QgY2FydEl0ZW1zID0gJC5tYXAoJChTSE9QSUZZX1BST0RVQ1RfQ09OVEFJTkVSX1NFTEVDVE9SKSwgZWxlbWVudCA9PiB7XG4gICAgICBjb25zdCBwcm9kdWN0TmFtZSA9ICQoZWxlbWVudClcbiAgICAgICAgLmZpbmQoU0hPUElGWV9QUk9EVUNUX05BTUVfU0VMRUNUT1IpXG4gICAgICAgIC50ZXh0KClcbiAgICAgICAgLnRyaW0oKTtcbiAgICAgIGNvbnN0IHByb2R1Y3RRdWFudGl0eSA9ICQoZWxlbWVudClcbiAgICAgICAgLmZpbmQoU0hPUElGWV9QUk9EVUNUX1FVQU5USVRZX1NFTEVDVE9SKVxuICAgICAgICAudGV4dCgpXG4gICAgICAgIC50cmltKCk7XG4gICAgICBjb25zdCBwcm9kdWN0UHJpY2UgPSAkKGVsZW1lbnQpXG4gICAgICAgIC5maW5kKFNIT1BJRllfUFJPRFVDVF9QUklDRV9TRUxFQ1RPUilcbiAgICAgICAgLnRleHQoKVxuICAgICAgICAudHJpbSgpO1xuICAgICAgLy8gY29uc3QgcHJvZHVjdFZhcmlhbnQgPSAkKGVsZW1lbnQpXG4gICAgICAvLyAuZmluZChTSE9QSUZZX1BST0RVQ1RfVkFSSUFOVF9TRUxFQ1RPUilcbiAgICAgIC8vIC50ZXh0KCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiU0hPUElGWSBQUk9EVUNUIE5BTUU6XCIsIHByb2R1Y3ROYW1lKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiU0hPUElGWSBQUk9EVUNUIFFVQU5USVRZOlwiLCBwcm9kdWN0UXVhbnRpdHkpO1xuICAgICAgY29uc29sZS5sb2coXCJTSE9QSUZZIFBST0RVQ1QgUFJJQ0U6XCIsIHByb2R1Y3RQcmljZSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIlNIT1BJRlkgUFJPRFVDVCBWQVJJQU5UOlwiLCBwcm9kdWN0VmFyaWFudCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcm9kdWN0TmFtZSxcbiAgICAgICAgcHJvZHVjdFF1YW50aXR5LFxuICAgICAgICBwcm9kdWN0UHJpY2VcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBpbml0U3RvcmUoKTtcbiAgICBzdG9yZS51cGRhdGUoU1RPUkVfS0VZLCBzaG9waWZ5ID0+IHtcbiAgICAgIHNob3BpZnkuY2FydEl0ZW1zID0gY2FydEl0ZW1zO1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKFwiU0hPUElGWTogXCIsIHN0b3JlLmdldChTVE9SRV9LRVkpKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzY3JhcGVDaGVja291dCxcbiAgc2F2ZU9uT3JkZXJcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3NlcnZpY2VzL3Nob3BpZnkuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTs7Ozs7OyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ })

})
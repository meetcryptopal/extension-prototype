webpackHotUpdate(3,{

/***/ 183:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(314);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\nconst store = window.chrome.storage.sync;\nconst STORE_KEY = \"shopify\";\n\n// Actions\nconst CHECKOUT = \"CHECKOUT\";\nconst ADD_ITEM = \"ADD_ITEM\";\n\nconst initState = { order: [], cartItems: [] };\nconst reduceState = (state = initState, { type, payload }) => {\n  switch (type) {\n    case ADD_ITEM:\n      return _extends({}, state, { cartItems: [...payload] });\n\n    case CHECKOUT:\n      return _extends({}, state, {\n        orders: [...state.cartItems, ...state.orders],\n        cartItems: []\n      });\n  }\n};\n\nconst updateStore = action => {\n  store.get(STORE_KEY, state => {\n    const currentState = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isEmpty(state) ? undefined : state;\n    const nextState = reduceState(currentState, action);\n\n    store.set({ [STORE_KEY]: nextState });\n    console.log(`${STORE_KEY}: `, nextState);\n  });\n};\n\nconst saveOnOrder = () => {\n  const SHOPIFY_API_TOKEN_SELECTOR = \"meta[name=shopify-checkout-api-token]\";\n  const CHECKOUT_PATH_REGEX = /^\\/\\d+\\/checkouts\\/.+/; // ex: 808372/checkouts/bc40cd2fea7f91dcef496097ca38d93e\n\n  const isShopifySite = !!__WEBPACK_IMPORTED_MODULE_0_jquery___default()(SHOPIFY_API_TOKEN_SELECTOR).length;\n  const isCheckout = !!location.pathname.match(CHECKOUT_PATH_REGEX);\n\n  const SHOPIFY_COMPLETE_FORM_SELECTOR = \"input[name='complete']\";\n  const isFinalCheckoutPage = !!__WEBPACK_IMPORTED_MODULE_0_jquery___default()(SHOPIFY_COMPLETE_FORM_SELECTOR).length;\n\n  if (isShopifySite && isCheckout && isFinalCheckoutPage) {\n    const SHOPIFY_ORDER_BUTTON_SELECTOR = \".step__footer__continue-btn\";\n    __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\"body\").on(\"click\", SHOPIFY_ORDER_BUTTON_SELECTOR, e => {\n      console.log(\"SHOPIFY ORDER DETECTED\");\n\n      updateStore({ type: CHECKOUT });\n    });\n  }\n};\n\nconst scrapeCheckout = () => {\n  const SHOPIFY_API_TOKEN_SELECTOR = \"meta[name=shopify-checkout-api-token]\";\n  const CHECKOUT_PATH_REGEX = /^\\/\\d+\\/checkouts\\/.+/; // ex: 808372/checkouts/bc40cd2fea7f91dcef496097ca38d93e\n\n  const isShopifySite = !!__WEBPACK_IMPORTED_MODULE_0_jquery___default()(SHOPIFY_API_TOKEN_SELECTOR).length;\n  const isCheckout = !!location.pathname.match(CHECKOUT_PATH_REGEX);\n\n  if (isShopifySite && isCheckout) {\n    console.log(\"SHOPIFY CHECKOUT DETECTED\");\n\n    const SHOPIFY_PRODUCT_CONTAINER_SELECTOR = \".product\";\n    const SHOPIFY_PRODUCT_NAME_SELECTOR = \".product__description__name\";\n    const SHOPIFY_PRODUCT_VARIANT_SELECTOR = \".product__description__variant\";\n    const SHOPIFY_PRODUCT_QUANTITY_SELECTOR = \".product__quantity\";\n    const SHOPIFY_PRODUCT_PRICE_SELECTOR = \".product__price\";\n\n    const cartItems = __WEBPACK_IMPORTED_MODULE_0_jquery___default.a.map(__WEBPACK_IMPORTED_MODULE_0_jquery___default()(SHOPIFY_PRODUCT_CONTAINER_SELECTOR), element => {\n      const productName = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(element).find(SHOPIFY_PRODUCT_NAME_SELECTOR).text().trim();\n      const productQuantity = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(element).find(SHOPIFY_PRODUCT_QUANTITY_SELECTOR).text().trim();\n      const productPrice = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(element).find(SHOPIFY_PRODUCT_PRICE_SELECTOR).text().trim();\n      // const productVariant = $(element)\n      // .find(SHOPIFY_PRODUCT_VARIANT_SELECTOR)\n      // .text();\n\n      console.log(\"SHOPIFY PRODUCT NAME:\", productName);\n      console.log(\"SHOPIFY PRODUCT QUANTITY:\", productQuantity);\n      console.log(\"SHOPIFY PRODUCT PRICE:\", productPrice);\n      // console.log(\"SHOPIFY PRODUCT VARIANT:\", productVariant);\n      return {\n        productName,\n        productQuantity,\n        productPrice\n      };\n    });\n\n    updateStore({ type: ADD_ITEM, payload: cartItems });\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = {\n  scrapeCheckout,\n  saveOnOrder\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9zZXJ2aWNlcy9zaG9waWZ5LmpzP2NiNDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSBcImpxdWVyeVwiO1xuaW1wb3J0IF8gZnJvbSBcImxvZGFzaFwiO1xuXG5jb25zdCBzdG9yZSA9IHdpbmRvdy5jaHJvbWUuc3RvcmFnZS5zeW5jO1xuY29uc3QgU1RPUkVfS0VZID0gXCJzaG9waWZ5XCI7XG5cbi8vIEFjdGlvbnNcbmNvbnN0IENIRUNLT1VUID0gXCJDSEVDS09VVFwiO1xuY29uc3QgQUREX0lURU0gPSBcIkFERF9JVEVNXCI7XG5cbmNvbnN0IGluaXRTdGF0ZSA9IHsgb3JkZXI6IFtdLCBjYXJ0SXRlbXM6IFtdIH07XG5jb25zdCByZWR1Y2VTdGF0ZSA9IChzdGF0ZSA9IGluaXRTdGF0ZSwgeyB0eXBlLCBwYXlsb2FkIH0pID0+IHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBBRERfSVRFTTpcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBjYXJ0SXRlbXM6IFsuLi5wYXlsb2FkXSB9O1xuXG4gICAgY2FzZSBDSEVDS09VVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBvcmRlcnM6IFsuLi5zdGF0ZS5jYXJ0SXRlbXMsIC4uLnN0YXRlLm9yZGVyc10sXG4gICAgICAgIGNhcnRJdGVtczogW11cbiAgICAgIH07XG4gIH1cbn07XG5cbmNvbnN0IHVwZGF0ZVN0b3JlID0gYWN0aW9uID0+IHtcbiAgc3RvcmUuZ2V0KFNUT1JFX0tFWSwgc3RhdGUgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IF8uaXNFbXB0eShzdGF0ZSkgPyB1bmRlZmluZWQgOiBzdGF0ZTtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSByZWR1Y2VTdGF0ZShjdXJyZW50U3RhdGUsIGFjdGlvbik7XG5cbiAgICBzdG9yZS5zZXQoeyBbU1RPUkVfS0VZXTogbmV4dFN0YXRlIH0pO1xuICAgIGNvbnNvbGUubG9nKGAke1NUT1JFX0tFWX06IGAsIG5leHRTdGF0ZSk7XG4gIH0pO1xufTtcblxuY29uc3Qgc2F2ZU9uT3JkZXIgPSAoKSA9PiB7XG4gIGNvbnN0IFNIT1BJRllfQVBJX1RPS0VOX1NFTEVDVE9SID0gXCJtZXRhW25hbWU9c2hvcGlmeS1jaGVja291dC1hcGktdG9rZW5dXCI7XG4gIGNvbnN0IENIRUNLT1VUX1BBVEhfUkVHRVggPSAvXlxcL1xcZCtcXC9jaGVja291dHNcXC8uKy87IC8vIGV4OiA4MDgzNzIvY2hlY2tvdXRzL2JjNDBjZDJmZWE3ZjkxZGNlZjQ5NjA5N2NhMzhkOTNlXG5cbiAgY29uc3QgaXNTaG9waWZ5U2l0ZSA9ICEhJChTSE9QSUZZX0FQSV9UT0tFTl9TRUxFQ1RPUikubGVuZ3RoO1xuICBjb25zdCBpc0NoZWNrb3V0ID0gISFsb2NhdGlvbi5wYXRobmFtZS5tYXRjaChDSEVDS09VVF9QQVRIX1JFR0VYKTtcblxuICBjb25zdCBTSE9QSUZZX0NPTVBMRVRFX0ZPUk1fU0VMRUNUT1IgPSBcImlucHV0W25hbWU9J2NvbXBsZXRlJ11cIjtcbiAgY29uc3QgaXNGaW5hbENoZWNrb3V0UGFnZSA9ICEhJChTSE9QSUZZX0NPTVBMRVRFX0ZPUk1fU0VMRUNUT1IpLmxlbmd0aDtcblxuICBpZiAoaXNTaG9waWZ5U2l0ZSAmJiBpc0NoZWNrb3V0ICYmIGlzRmluYWxDaGVja291dFBhZ2UpIHtcbiAgICBjb25zdCBTSE9QSUZZX09SREVSX0JVVFRPTl9TRUxFQ1RPUiA9IFwiLnN0ZXBfX2Zvb3Rlcl9fY29udGludWUtYnRuXCI7XG4gICAgJChcImJvZHlcIikub24oXCJjbGlja1wiLCBTSE9QSUZZX09SREVSX0JVVFRPTl9TRUxFQ1RPUiwgZSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIlNIT1BJRlkgT1JERVIgREVURUNURURcIik7XG5cbiAgICAgIHVwZGF0ZVN0b3JlKHsgdHlwZTogQ0hFQ0tPVVQgfSk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmNvbnN0IHNjcmFwZUNoZWNrb3V0ID0gKCkgPT4ge1xuICBjb25zdCBTSE9QSUZZX0FQSV9UT0tFTl9TRUxFQ1RPUiA9IFwibWV0YVtuYW1lPXNob3BpZnktY2hlY2tvdXQtYXBpLXRva2VuXVwiO1xuICBjb25zdCBDSEVDS09VVF9QQVRIX1JFR0VYID0gL15cXC9cXGQrXFwvY2hlY2tvdXRzXFwvLisvOyAvLyBleDogODA4MzcyL2NoZWNrb3V0cy9iYzQwY2QyZmVhN2Y5MWRjZWY0OTYwOTdjYTM4ZDkzZVxuXG4gIGNvbnN0IGlzU2hvcGlmeVNpdGUgPSAhISQoU0hPUElGWV9BUElfVE9LRU5fU0VMRUNUT1IpLmxlbmd0aDtcbiAgY29uc3QgaXNDaGVja291dCA9ICEhbG9jYXRpb24ucGF0aG5hbWUubWF0Y2goQ0hFQ0tPVVRfUEFUSF9SRUdFWCk7XG5cbiAgaWYgKGlzU2hvcGlmeVNpdGUgJiYgaXNDaGVja291dCkge1xuICAgIGNvbnNvbGUubG9nKFwiU0hPUElGWSBDSEVDS09VVCBERVRFQ1RFRFwiKTtcblxuICAgIGNvbnN0IFNIT1BJRllfUFJPRFVDVF9DT05UQUlORVJfU0VMRUNUT1IgPSBcIi5wcm9kdWN0XCI7XG4gICAgY29uc3QgU0hPUElGWV9QUk9EVUNUX05BTUVfU0VMRUNUT1IgPSBcIi5wcm9kdWN0X19kZXNjcmlwdGlvbl9fbmFtZVwiO1xuICAgIGNvbnN0IFNIT1BJRllfUFJPRFVDVF9WQVJJQU5UX1NFTEVDVE9SID0gXCIucHJvZHVjdF9fZGVzY3JpcHRpb25fX3ZhcmlhbnRcIjtcbiAgICBjb25zdCBTSE9QSUZZX1BST0RVQ1RfUVVBTlRJVFlfU0VMRUNUT1IgPSBcIi5wcm9kdWN0X19xdWFudGl0eVwiO1xuICAgIGNvbnN0IFNIT1BJRllfUFJPRFVDVF9QUklDRV9TRUxFQ1RPUiA9IFwiLnByb2R1Y3RfX3ByaWNlXCI7XG5cbiAgICBjb25zdCBjYXJ0SXRlbXMgPSAkLm1hcCgkKFNIT1BJRllfUFJPRFVDVF9DT05UQUlORVJfU0VMRUNUT1IpLCBlbGVtZW50ID0+IHtcbiAgICAgIGNvbnN0IHByb2R1Y3ROYW1lID0gJChlbGVtZW50KVxuICAgICAgICAuZmluZChTSE9QSUZZX1BST0RVQ1RfTkFNRV9TRUxFQ1RPUilcbiAgICAgICAgLnRleHQoKVxuICAgICAgICAudHJpbSgpO1xuICAgICAgY29uc3QgcHJvZHVjdFF1YW50aXR5ID0gJChlbGVtZW50KVxuICAgICAgICAuZmluZChTSE9QSUZZX1BST0RVQ1RfUVVBTlRJVFlfU0VMRUNUT1IpXG4gICAgICAgIC50ZXh0KClcbiAgICAgICAgLnRyaW0oKTtcbiAgICAgIGNvbnN0IHByb2R1Y3RQcmljZSA9ICQoZWxlbWVudClcbiAgICAgICAgLmZpbmQoU0hPUElGWV9QUk9EVUNUX1BSSUNFX1NFTEVDVE9SKVxuICAgICAgICAudGV4dCgpXG4gICAgICAgIC50cmltKCk7XG4gICAgICAvLyBjb25zdCBwcm9kdWN0VmFyaWFudCA9ICQoZWxlbWVudClcbiAgICAgIC8vIC5maW5kKFNIT1BJRllfUFJPRFVDVF9WQVJJQU5UX1NFTEVDVE9SKVxuICAgICAgLy8gLnRleHQoKTtcblxuICAgICAgY29uc29sZS5sb2coXCJTSE9QSUZZIFBST0RVQ1QgTkFNRTpcIiwgcHJvZHVjdE5hbWUpO1xuICAgICAgY29uc29sZS5sb2coXCJTSE9QSUZZIFBST0RVQ1QgUVVBTlRJVFk6XCIsIHByb2R1Y3RRdWFudGl0eSk7XG4gICAgICBjb25zb2xlLmxvZyhcIlNIT1BJRlkgUFJPRFVDVCBQUklDRTpcIiwgcHJvZHVjdFByaWNlKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiU0hPUElGWSBQUk9EVUNUIFZBUklBTlQ6XCIsIHByb2R1Y3RWYXJpYW50KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByb2R1Y3ROYW1lLFxuICAgICAgICBwcm9kdWN0UXVhbnRpdHksXG4gICAgICAgIHByb2R1Y3RQcmljZVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHVwZGF0ZVN0b3JlKHsgdHlwZTogQUREX0lURU0sIHBheWxvYWQ6IGNhcnRJdGVtcyB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzY3JhcGVDaGVja291dCxcbiAgc2F2ZU9uT3JkZXJcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3NlcnZpY2VzL3Nob3BpZnkuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUhBO0FBTEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7Ozs7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ })

})